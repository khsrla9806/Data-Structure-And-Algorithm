# Ch08. 힙

## 힙 (Heap)

- 완전 이진 트리 형태를 가지고 있습니다.
- 힙의 종류
    1. 최대 힙 (Max Heap)
        - 부모 노드의 값은 항상 자식 노드 보다 크거나 같습니다.
        - 트리의 최댓값은 항상 루트 노드입니다.
    2. 최소 힙 (Min Heap)
        - 부모 노드의 값은 항상 자식 노드 보다 작거나 같습니다.
        - 트리의 최솟값은 항상 루트 노드입니다.
- BST와는 다른점은 다음과 같습니다.
    - 중복된 값을 허용합니다.
    - BST의 경우에는 왼쪽 노드는 자신의 값보다 작은 값이 오른쪽은 큰 값이 들어갔습니다. 힙에는 이런 제약이 없습니다.
- 최대, 최소 기준으로 데이터를 찾는 연산은 O(1)의 시간 복잡도를 갖습니다.
- 삽입, 삭제는 O(logn)의 시간 복잡도를 갖습니다.

<br><br>

## 우선순위 큐 (Priority Queue)

- 일반적인 큐는 FIFO(선입선출)의 데이터 구조를 가지고 있습니다.
- 하지만 우선순위 큐의 경우에는 먼저 들어온 것이 먼저 나가는게 아니고,  들어온 순서와는 상관없이 우선순위가 높은 데이터 순으로 처리하는 자료구조 입니다.
    - 대표적인 예시로는 CPU의 작업 스케줄링에 사용됩니다.
- 우선순위 큐를 사용하는 이유는 데이터의 삽입, 삭제에도 O(logn)의 시간 복잡도가 걸리고, 우선순위대로 데이터를 꺼내오는데 O(1)의 시간이 걸리기 때문에 사용합니다.
- 단순 리스트를 사용해서 우선순위대로 데이터를 정렬해서 가져오는 경우에는 O(n)의 시간 복잡도가 필요하기 때문입니다.

<br><br>

### 힙 정렬 (Heap Sort)

- 힙 자료구조의 특성을 이용한 정렬 방법을 말합니다.
- 최대 힙을 사용하면 내림차순으로 정렬된 데이터, 최소 힙을 사용하면 오름차순으로 정렬된 데이터를 얻을 수 있습니다.

<br><br>

### Heapify

- 힙을 재구조화하는 것을 말합니다.
- 데이터가 추가, 삭제될 때 힙의 속성을 계속 유지하기 위해서 사용되는 연산을 말합니다.
- 힙에 데이터를 삽입할 때
    - 힙은 완전 이진 트리의 형태를 유지해야하기 때문에 Leaf 노드에 데이터를 삽입합니다.
    - 힙의 조건을 만족하는지 확인합니다.
        - 힙의 조건을 만족한다면 이대로 연산을 종료합니다.
    - 만족하지 않는다면 삽입된 노드와 부모 노드의 값을 바꿉니다.
    - 다시 힙의 조건을 만족하는지 확인합니다.
        - 만족하지 않으면 위와 같은 동작을 반복합니다.
- 힙에서 데이터(최대값, 루트노드)를 삭제할 때 (Max Heap)
    - 힙의 마지막 노드를 루트 노드로 가져옵니다. 그리고 나서 루트노드의 데이터를 삭제합니다.
    - 힙의 조건을 만족하는지 확인합니다.
        - 만족한다면 이대로 연산을 종료합니다.
    - 만족하지 않는다면 자식 노드와 위치를 변경합니다.
    - 다시 힙의 조건을 만족하는지 확인합니다.
        - 힙의 조건이 만족할 때까지 위 과정을 반복합니다.